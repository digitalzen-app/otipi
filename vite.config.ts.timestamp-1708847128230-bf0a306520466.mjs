// vite.config.ts
import legacy from "file:///home/alon/dev_files/otipi/node_modules/@vitejs/plugin-legacy/dist/index.mjs";
import vue from "file:///home/alon/dev_files/otipi/node_modules/@vitejs/plugin-vue/dist/index.mjs";
import path2 from "path";
import { defineConfig } from "file:///home/alon/dev_files/otipi/node_modules/vite/dist/node/index.js";

// vite-version-increment-on-prod-build.js
import fs from "fs";
import path from "path";
var versionIncrementOnProdBuildPlugin = () => ({
  name: "version-increment-on-prod-build",
  apply: "build",
  closeBundle() {
    if (process.env.NODE_ENV === "production") {
      const packagePath = path.resolve(process.cwd(), "package.json");
      const packageJson = JSON.parse(fs.readFileSync(packagePath, "utf-8"));
      const versionParts = packageJson.version.split(".").map((part) => parseInt(part, 10));
      versionParts[2] += 1;
      packageJson.version = versionParts.join(".");
      fs.writeFileSync(packagePath, JSON.stringify(packageJson, null, 2));
      console.log(`Version updated to: ${packageJson.version}`);
    }
  }
});
var vite_version_increment_on_prod_build_default = versionIncrementOnProdBuildPlugin;

// vite.config.ts
import wasm from "file:///home/alon/dev_files/otipi/node_modules/vite-plugin-wasm/exports/import.mjs";
import topLevelAwait from "file:///home/alon/dev_files/otipi/node_modules/vite-plugin-top-level-await/exports/import.mjs";
var __vite_injected_original_dirname = "/home/alon/dev_files/otipi";
var isProd = process.env.NODE_ENV === "production";
var buildVer = +Date.now();
var buildVerHash = buildVer.toString(16);
var vite_config_default = defineConfig({
  plugins: [
    topLevelAwait(),
    wasm(),
    vite_version_increment_on_prod_build_default(),
    vue(),
    legacy()
  ],
  optimizeDeps: {
    exclude: ["argon2-browser"]
  },
  build: {
    emptyOutDir: true
  },
  resolve: {
    alias: {
      "@": path2.resolve(__vite_injected_original_dirname, "./src")
    }
  },
  test: {
    globals: true,
    environment: "jsdom"
  }
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcudHMiLCAidml0ZS12ZXJzaW9uLWluY3JlbWVudC1vbi1wcm9kLWJ1aWxkLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZGlybmFtZSA9IFwiL2hvbWUvYWxvbi9kZXZfZmlsZXMvb3RpcGlcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIi9ob21lL2Fsb24vZGV2X2ZpbGVzL290aXBpL3ZpdGUuY29uZmlnLnRzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9ob21lL2Fsb24vZGV2X2ZpbGVzL290aXBpL3ZpdGUuY29uZmlnLnRzXCI7aW1wb3J0IGxlZ2FjeSBmcm9tIFwiQHZpdGVqcy9wbHVnaW4tbGVnYWN5XCI7XG5pbXBvcnQgdnVlIGZyb20gXCJAdml0ZWpzL3BsdWdpbi12dWVcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBkZWZpbmVDb25maWcgfSBmcm9tIFwidml0ZVwiO1xuaW1wb3J0IHsgVml0ZVBXQSB9IGZyb20gXCJ2aXRlLXBsdWdpbi1wd2FcIjtcbmltcG9ydCB2ZXJzaW9uSW5jcmVtZW50T25Qcm9kQnVpbGRQbHVnaW4gZnJvbSBcIi4vdml0ZS12ZXJzaW9uLWluY3JlbWVudC1vbi1wcm9kLWJ1aWxkLmpzXCI7XG5pbXBvcnQgd2FzbSBmcm9tIFwidml0ZS1wbHVnaW4td2FzbVwiO1xuaW1wb3J0IHRvcExldmVsQXdhaXQgZnJvbSBcInZpdGUtcGx1Z2luLXRvcC1sZXZlbC1hd2FpdFwiO1xuXG5jb25zdCBpc1Byb2QgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCI7XG5jb25zdCBidWlsZFZlciA9ICtEYXRlLm5vdygpO1xuY29uc3QgYnVpbGRWZXJIYXNoID0gYnVpbGRWZXIudG9TdHJpbmcoMTYpO1xuLy8gaHR0cHM6Ly92aXRlanMuZGV2L2NvbmZpZy9cbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbmZpZyh7XG4gIHBsdWdpbnM6IFtcbiAgICB0b3BMZXZlbEF3YWl0KCksXG4gICAgd2FzbSgpLFxuICAgIHZlcnNpb25JbmNyZW1lbnRPblByb2RCdWlsZFBsdWdpbigpLFxuICAgIHZ1ZSgpLFxuICAgIGxlZ2FjeSgpLFxuICBdLFxuICBvcHRpbWl6ZURlcHM6IHtcbiAgICBleGNsdWRlOiBbXCJhcmdvbjItYnJvd3NlclwiXSxcbiAgfSxcbiAgYnVpbGQ6e1xuICAgIGVtcHR5T3V0RGlyOiB0cnVlLFxuICB9LFxuICByZXNvbHZlOiB7XG4gICAgYWxpYXM6IHtcbiAgICAgIFwiQFwiOiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBcIi4vc3JjXCIpLFxuICAgIH0sXG4gIH0sXG4gIHRlc3Q6IHtcbiAgICBnbG9iYWxzOiB0cnVlLFxuICAgIGVudmlyb25tZW50OiBcImpzZG9tXCIsXG4gIH0sXG59KTtcbiIsICJjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZGlybmFtZSA9IFwiL2hvbWUvYWxvbi9kZXZfZmlsZXMvb3RpcGlcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZmlsZW5hbWUgPSBcIi9ob21lL2Fsb24vZGV2X2ZpbGVzL290aXBpL3ZpdGUtdmVyc2lvbi1pbmNyZW1lbnQtb24tcHJvZC1idWlsZC5qc1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vaG9tZS9hbG9uL2Rldl9maWxlcy9vdGlwaS92aXRlLXZlcnNpb24taW5jcmVtZW50LW9uLXByb2QtYnVpbGQuanNcIjtpbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuXG5jb25zdCB2ZXJzaW9uSW5jcmVtZW50T25Qcm9kQnVpbGRQbHVnaW4gPSAoKSA9PiAoe1xuICBuYW1lOiBcInZlcnNpb24taW5jcmVtZW50LW9uLXByb2QtYnVpbGRcIixcbiAgYXBwbHk6IFwiYnVpbGRcIixcbiAgY2xvc2VCdW5kbGUoKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgY29uc3QgcGFja2FnZVBhdGggPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgXCJwYWNrYWdlLmpzb25cIik7XG4gICAgICBjb25zdCBwYWNrYWdlSnNvbiA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKHBhY2thZ2VQYXRoLCBcInV0Zi04XCIpKTtcbiAgICAgIGNvbnN0IHZlcnNpb25QYXJ0cyA9IHBhY2thZ2VKc29uLnZlcnNpb24uc3BsaXQoXCIuXCIpLm1hcCgocGFydCkgPT4gcGFyc2VJbnQocGFydCwgMTApKTtcblxuICAgICAgLy8gSW5jcmVtZW50IHBhdGNoIHZlcnNpb25cbiAgICAgIHZlcnNpb25QYXJ0c1syXSArPSAxO1xuXG4gICAgICBwYWNrYWdlSnNvbi52ZXJzaW9uID0gdmVyc2lvblBhcnRzLmpvaW4oXCIuXCIpO1xuXG4gICAgICBmcy53cml0ZUZpbGVTeW5jKHBhY2thZ2VQYXRoLCBKU09OLnN0cmluZ2lmeShwYWNrYWdlSnNvbiwgbnVsbCwgMikpO1xuICAgICAgY29uc29sZS5sb2coYFZlcnNpb24gdXBkYXRlZCB0bzogJHtwYWNrYWdlSnNvbi52ZXJzaW9ufWApO1xuICAgIH1cbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB2ZXJzaW9uSW5jcmVtZW50T25Qcm9kQnVpbGRQbHVnaW47XG4iXSwKICAibWFwcGluZ3MiOiAiO0FBQWdRLE9BQU8sWUFBWTtBQUNuUixPQUFPLFNBQVM7QUFDaEIsT0FBT0EsV0FBVTtBQUNqQixTQUFTLG9CQUFvQjs7O0FDSHFSLE9BQU8sUUFBUTtBQUNqVSxPQUFPLFVBQVU7QUFFakIsSUFBTSxvQ0FBb0MsT0FBTztBQUFBLEVBQy9DLE1BQU07QUFBQSxFQUNOLE9BQU87QUFBQSxFQUNQLGNBQWM7QUFDWixRQUFJLFFBQVEsSUFBSSxhQUFhLGNBQWM7QUFDekMsWUFBTSxjQUFjLEtBQUssUUFBUSxRQUFRLElBQUksR0FBRyxjQUFjO0FBQzlELFlBQU0sY0FBYyxLQUFLLE1BQU0sR0FBRyxhQUFhLGFBQWEsT0FBTyxDQUFDO0FBQ3BFLFlBQU0sZUFBZSxZQUFZLFFBQVEsTUFBTSxHQUFHLEVBQUUsSUFBSSxDQUFDLFNBQVMsU0FBUyxNQUFNLEVBQUUsQ0FBQztBQUdwRixtQkFBYSxDQUFDLEtBQUs7QUFFbkIsa0JBQVksVUFBVSxhQUFhLEtBQUssR0FBRztBQUUzQyxTQUFHLGNBQWMsYUFBYSxLQUFLLFVBQVUsYUFBYSxNQUFNLENBQUMsQ0FBQztBQUNsRSxjQUFRLElBQUksdUJBQXVCLFlBQVksT0FBTyxFQUFFO0FBQUEsSUFDMUQ7QUFBQSxFQUNGO0FBQ0Y7QUFFQSxJQUFPLCtDQUFROzs7QURqQmYsT0FBTyxVQUFVO0FBQ2pCLE9BQU8sbUJBQW1CO0FBUDFCLElBQU0sbUNBQW1DO0FBU3pDLElBQU0sU0FBUyxRQUFRLElBQUksYUFBYTtBQUN4QyxJQUFNLFdBQVcsQ0FBQyxLQUFLLElBQUk7QUFDM0IsSUFBTSxlQUFlLFNBQVMsU0FBUyxFQUFFO0FBRXpDLElBQU8sc0JBQVEsYUFBYTtBQUFBLEVBQzFCLFNBQVM7QUFBQSxJQUNQLGNBQWM7QUFBQSxJQUNkLEtBQUs7QUFBQSxJQUNMLDZDQUFrQztBQUFBLElBQ2xDLElBQUk7QUFBQSxJQUNKLE9BQU87QUFBQSxFQUNUO0FBQUEsRUFDQSxjQUFjO0FBQUEsSUFDWixTQUFTLENBQUMsZ0JBQWdCO0FBQUEsRUFDNUI7QUFBQSxFQUNBLE9BQU07QUFBQSxJQUNKLGFBQWE7QUFBQSxFQUNmO0FBQUEsRUFDQSxTQUFTO0FBQUEsSUFDUCxPQUFPO0FBQUEsTUFDTCxLQUFLQyxNQUFLLFFBQVEsa0NBQVcsT0FBTztBQUFBLElBQ3RDO0FBQUEsRUFDRjtBQUFBLEVBQ0EsTUFBTTtBQUFBLElBQ0osU0FBUztBQUFBLElBQ1QsYUFBYTtBQUFBLEVBQ2Y7QUFDRixDQUFDOyIsCiAgIm5hbWVzIjogWyJwYXRoIiwgInBhdGgiXQp9Cg==
